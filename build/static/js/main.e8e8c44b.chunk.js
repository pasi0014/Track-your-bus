(this["webpackJsonptrack-bus-app"]=this["webpackJsonptrack-bus-app"]||[]).push([[0],{44:function(e,t,r){},73:function(e,t,r){"use strict";r.r(t);var a=r(1),s=r.n(a),i=r(36),n=r.n(i),o=(r(44),r(14)),c=r(3),l=r(0);function u(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("footer",{className:"relative bg-gray-700 pt-8 pb-6 text-gray-200",children:Object(l.jsxs)("div",{className:"container mx-auto px-4",children:[Object(l.jsxs)("div",{className:"flex flex-wrap",children:[Object(l.jsxs)("div",{className:"w-full lg:w-6/12 px-4",children:[Object(l.jsx)("h4",{className:"text-3xl font-semibold",children:"Truck your bus"}),Object(l.jsx)("h5",{className:"text-lg mt-0 mb-2 text-gray-100",children:"Developed by Nazar Pasika"})]}),Object(l.jsx)("div",{className:"w-full lg:w-6/12 px-4",children:Object(l.jsx)("div",{className:"flex flex-wrap items-top mb-6",children:Object(l.jsxs)("div",{className:"w-full lg:w-4/12 px-4 ml-auto sm:mt-5",children:[Object(l.jsx)("span",{className:"block uppercase text-gray-100 text-lg font-semibold mb-2",children:"Useful Links"}),Object(l.jsxs)("ul",{className:"list-unstyled",children:[Object(l.jsx)("li",{children:Object(l.jsx)("a",{className:"text-gray-100 hover:text-gray-400 font-semibold block pb-2 text-sm",href:"/about",children:"About"})}),Object(l.jsx)("li",{children:Object(l.jsx)("a",{className:"text-gray-100 hover:text-gray-400 font-semibold block pb-2 text-sm",href:"https://github.com/pasi0014/Track-your-bus",children:"Github"})})]})]})})})]}),Object(l.jsx)("hr",{className:"my-6 border-gray-400"}),Object(l.jsx)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:Object(l.jsx)("div",{className:"w-full md:w-4/12 px-4 mx-auto text-center",children:Object(l.jsxs)("div",{className:"text-sm text-gray-400 font-semibold py-1",children:[(new Date).getFullYear()," "," Nazar Pasika"]})})})]})})})}var d=r(39),m=r(20),p=r(15),b=r(37),x=r(13);function h(){var e=s.a.useState(!1),t=Object(d.a)(e,2),r=t[0],a=t[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("nav",{className:"flex flex-wrap items-center justify-between px-2 py-3 bg-yellow-500 text-white",children:Object(l.jsxs)("div",{className:"container px-4 mx-auto flex flex-wrap items-center justify-between",children:[Object(l.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto lg:static lg:block lg:justify-start",children:[Object(l.jsxs)(o.b,{to:"/",className:" text-sm font-bold leading-relaxed flex items-center inline-block mr-4 py-2 whitespace-nowrap uppercase",children:[Object(l.jsx)("span",{className:"mr-2",children:Object(l.jsx)(m.a,{icon:["fas","bus"],size:"3x"})}),Object(l.jsx)("span",{className:"text-lg",children:"Track Your Bus"})]}),Object(l.jsx)("button",{className:"cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",onClick:function(){return a(!r)},children:Object(l.jsx)(m.a,{icon:["fas","bars"]})})]}),Object(l.jsx)("div",{className:"lg:flex flex-grow items-center bg-yellow-600 p-5 lg:bg-transparent lg:shadow-none space-y-3"+(r?" block rounded shadow-lg":" hidden"),children:Object(l.jsx)("ul",{className:"flex flex-col lg:flex-row list-none mr-auto",children:Object(l.jsx)(o.b,{to:"/stopInfo",children:Object(l.jsx)("li",{className:"flex items-center",children:Object(l.jsx)("button",{type:"button",className:"text-xs font-bold uppercase px-7 py-3 bg-yellow-500 rounded shadow-lg hover:shadow-md outline-none focus:outline-none lg:mr-1 lg:mb-0 ml-2 mb-3bg-yellow-900 hover:bg-yellow-100 hover:text-gray-500",style:{transition:"all .15s ease"},children:"Find Bus Stop"})})})})})]})})})}p.b.add(x.e,x.f,x.d,x.c,b.a,x.a,x.b,x.g);var j=r(10),f=r(11),v=r(18),g=r(17),O=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"render",value:function(){return Object(l.jsx)("div",{className:"container mx-auto",children:Object(l.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:Object(l.jsxs)("div",{className:"lg:flex lg:mx-auto w-full lg:w-10/12 mb-4 mt-4 justify-center lg:space-x-3 bg-blue-300 p-3",children:[Object(l.jsxs)("div",{className:"flex flex-col lg:w-10/12 sm:w-12/12",children:[Object(l.jsxs)("div",{className:"lg:w-full bg-white rounded-lg mx-auto my-3 p-16",children:[Object(l.jsx)("h1",{className:"text-2xl font-medium mb-2",children:"Title"}),Object(l.jsx)("h2",{className:"font-medium text-sm text-indigo-400 mb-4 uppercase tracking-wide",children:"Subtitle"}),"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Illum illo cupiditate molestias atque consequuntur ea quo cumque, odit velit sint similique? Asperiores ratione aperiam tempora, alias corrupti deleniti quaerat molestiae."]}),Object(l.jsxs)("div",{className:"flex flex-col sm:flex-row md:space-x-1 sm:space-x-2 justify-center",children:[Object(l.jsxs)("div",{className:"w-full bg-red-500 rounded-lg mt-1",children:[Object(l.jsx)("h1",{className:"text-2xl text-center font-medium mb-2 p-10",children:"Upcoming Events"}),Object(l.jsx)("p",{className:"p-4",children:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Alias temporibus, nemo voluptas tempora totam voluptate ipsam explicabo aperiam iste inventore saepe ducimus. Sint, vitae quod cum dolorum dolores ex sed?"})]}),Object(l.jsxs)("div",{className:"w-full bg-yellow-400 rounded-lg mt-1",children:[Object(l.jsx)("h1",{className:"text-2xl text-center font-medium mb-2 p-10",children:"Recent Headlines"}),Object(l.jsx)("p",{className:"p-4",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quaerat ipsa neque ea quia? Accusantium molestiae quo excepturi quod esse perspiciatis, corrupti officiis amet sunt asperiores beatae est blanditiis in perferendis."})]}),Object(l.jsxs)("div",{className:"w-full bg-green-300 rounded-lg mt-1",children:[Object(l.jsx)("h1",{className:"text-2xl text-center font-medium mb-2 p-10",children:"Recent Headlines"}),Object(l.jsx)("p",{className:"p-4",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nobis cum iste corrupti amet officia. Corrupti aperiam laborum animi ullam totam molestias doloribus expedita, modi exercitationem quis laboriosam quae, enim dolor!"})]})]}),Object(l.jsxs)("div",{className:"lg:w-full bg-white rounded-lg mx-auto my-3 p-12",children:[Object(l.jsx)("h2",{className:"font-medium text-sm text-indigo-400 mb-4 uppercase tracking-wide",children:"Subtitle"}),"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates fuga nemo cumque nulla, id doloribus placeat distinctio maxime repellat velit repellendus eos corrupti quod deleniti mollitia, amet expedita saepe illo? Ab itaque non corrupti nisi alias? Odio facilis voluptate nam aut modi optio ullam? Labore eos maiores consequatur blanditiis mollitia vitae sit tempore libero, eveniet iste natus inventore sunt corporis? Officia doloribus unde accusantium. Qui, sequi. Placeat suscipit in dolorem, alias iste labore consequatur molestiae ipsum dolore doloribus sint ut maxime nam distinctio mollitia unde odit soluta aliquid reiciendis. Autem! Amet incidunt obcaecati ex sint in minima. Porro, maiores velit, obcaecati illo assumenda labore voluptates facere expedita veniam et vitae delectus, deserunt doloremque officiis perferendis modi odio ut eveniet vel. Iure perferendis, itaque voluptates eligendi repellendus corrupti, velit labore nulla nisi ab, ullam libero rerum sed id totam. Alias neque corrupti iusto in, ipsum obcaecati reprehenderit vel impedit. Sed, eum. Ullam delectus temporibus voluptates earum deserunt nisi possimus recusandae et amet quibusdam explicabo, exercitationem porro voluptate libero dolorum impedit vitae quis laudantium quos. Explicabo pariatur sequi, tempora dolorum consequatur dolore?"]})]}),Object(l.jsxs)("div",{className:"flex flex-col w-full lg:w-4/12",children:[Object(l.jsxs)("div",{className:"w-full bg-white rounded-lg mx-auto mt-3 mb-3 lg:mb-2 p-16",children:[Object(l.jsx)("h1",{className:"text-2xl font-medium mb-2",children:"Title"}),Object(l.jsx)("h2",{className:"font-medium text-sm text-indigo-400 mb-4 uppercase tracking-wide",children:"Subtitle"})]}),Object(l.jsx)("div",{className:"bg-white rounded-lg h-1/4 lg:h-16 p-5",children:Object(l.jsx)("h1",{className:"text-2xl font-medium mb-2 text-center",children:"Title"})}),Object(l.jsxs)("div",{className:"bg-white rounded-lg h-full p-5 mt-3 mb-3",children:[Object(l.jsx)("h1",{className:"text-2xl font-medium mb-2 text-center",children:"Title"}),Object(l.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Tempore ipsa ad ut? Magnam amet perferendis soluta, ex, aperiam autem sint, maiores tenetur nisi recusandae laudantium possimus ducimus odit voluptatibus provident. Optio ex cum dolorum vel obcaecati delectus rerum, aspernatur consequuntur explicabo maxime vero, omnis amet, provident repellendus illo nostrum soluta repellat! Architecto illum nulla unde ex temporibus iure explicabo quae. Obcaecati ducimus tempore eum dolorem ad nobis nemo, est accusamus eius ipsa recusandae! Repudiandae libero quae vero sint error autem voluptatum aliquid, doloremque nulla asperiores placeat quod, eligendi, quas dolorem."})]})]})]})})})}}]),r}(s.a.Component),y=r(9),N=r.n(y),w=r(19),k=r(12),R=r(26),S=r.n(R),A=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(){return Object(j.a)(this,r),t.apply(this,arguments)}return Object(f.a)(r,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"relative mt-1",children:[Object(l.jsx)("input",{type:"text",className:"w-full pl-3 pr-10 py-2 border-2 border-gray-200\r rounded-xl hover:border-gray-300 focus:outline-none\r focus:border-blue-500 transition-colors",value:this.props.keyword,onChange:this.props.setKeyword,onKeyPress:this.props.handleEnterKey,placeholder:"Search..."}),Object(l.jsx)("button",{onClick:this.props.setStop,className:"block w-7 h-7 text-center text-xl leading-0 absolute\r top-2 right-2 text-gray-400 focus:outline-none\r hover:text-gray-900 transition-colors",children:Object(l.jsx)(m.a,{icon:["fas","search"]})})]})}}]),r}(s.a.Component),q=function(){return Object(l.jsx)("div",{className:"mt-2 bg-gray-200 text-center text-gray-700 p-3 rounded-lg shadow",children:Object(l.jsx)("h3",{children:"Nothing to Display Yet."})})},F=function(){return Object(l.jsx)("div",{className:"mt-2 bg-red-200 text-center text-red-700 p-3 rounded-lg shadow",children:Object(l.jsx)("h3",{children:"Error, invalid stop number"})})},E=function(){return Object(l.jsx)("div",{className:"w-1/2 bg-green-200 p-10 container text-center mx-auto rounded-lg shadow-lg text-lg font-bold text-green-700",children:Object(l.jsx)("h2",{children:"Loading"})})},I=function(e){return Object(l.jsx)("div",{className:"container mx-auto border lg:w-1/2 sm:w-full border-green-700 p-2 rounded-lg shadow-md mt-7",children:Object(l.jsxs)("div",{className:"flex justify-center flex-col",children:[Object(l.jsx)("h2",{className:"text-gray-500 p-2",children:"Enter stop Number"}),e.children,e.displayRoutesforStop]})})},T=function(){function e(){Object(j.a)(this,e)}return Object(f.a)(e,null,[{key:"printHello",value:function(){console.log("Hello from API")}},{key:"getAPI",value:function(){return this.initializeApiObject()}},{key:"initializeApiObject",value:function(){var e="http://127.0.0.1:8080/";return{apiID:"1ace1705",apiKey:"c4800b494ca9896fbf4978660f3376f9",proxy:e,baseAPIUrl:"".concat(e,"https://api.octranspo1.com/v2.0/GetRouteSummaryForStop"),baseNextBusURL:"".concat(e,"https://api.octranspo1.com/v2.0/GetNextTripsForStop")}}},{key:"checkForAPIResponseErrors",value:function(e){var t="";return"10"===e.GetRouteSummaryForStopResult.Error?"Invalid Stop Number":"2"===e.GetRouteSummaryForStopResult.Error?"Undable to query data source":t}}]),e}(),D=function(){function e(){Object(j.a)(this,e)}return Object(f.a)(e,null,[{key:"timeConvert",value:function(e){var t=e/60,r=Math.floor(t),a=60*(t-r),s=Math.round(a);return 0!==r?r+" hour "+s+" minutes":0===s&&0!==r?r+"hour":1===s?s+" minute":s+" minutes"}}]),e}(),L=function(){return Object(l.jsx)("div",{className:"p-5 bg-yellow-300 rounded-lg shadow-lg text-center w-8/12 mx-auto",children:Object(l.jsx)("h3",{className:"font-medium text-yellow-800",children:"Unfortunatelly, there are no info for this stop."})})},C=function(e){Object(v.a)(r,e);var t=Object(g.a)(r);function r(e){var a;return Object(j.a)(this,r),(a=t.call(this,e)).FetchStopData=Object(w.a)(N.a.mark((function e(){var t,r,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),t=T.getAPI(),e.next=4,S()({method:"GET",baseURL:t.baseAPIUrl,url:"?appID=".concat(t.apiID,"&apiKey=").concat(t.apiKey,"&stopNo=").concat(a.state.stop,"&format=json"),timeout:3e3});case 4:return r=e.sent,e.next=7,a.setState({items:r.data});case 7:return e.next=9,a.FetchNextArrivalData(a.state.stop);case 9:""===(s=T.checkForAPIResponseErrors(a.state.items))?(console.log("Should render route list:",s),a.setState({isLoading:!1}),a.setState({loadRoutes:!0}),a.setState({errorMessage:!1})):(console.log("Dont render route list for stop reason::",s),a.setState({loadRoutes:!1}),a.setState({isLoading:!1}),a.setState({errorMessage:!0}));case 11:case"end":return e.stop()}}),e)}))),a.state={items:{},stop:"",route:"",error:!1,search:"",isLoading:!0,loadRoutes:!1,errorMessage:!1,errors:{},gettingNextArrivalInfo:!1,nextArrivalInfo:{}},a.handleChangeEvent=a.handleChangeEvent.bind(Object(k.a)(a)),a.handleClickEvent=a.handleClickEvent.bind(Object(k.a)(a)),a.handleKeyPressEvent=a.handleKeyPressEvent.bind(Object(k.a)(a)),a.FetchStopData=a.FetchStopData.bind(Object(k.a)(a)),a.FetchNextArrivalData=a.FetchNextArrivalData.bind(Object(k.a)(a)),a}return Object(f.a)(r,[{key:"componentDidMount",value:function(){this.setState({isLoading:!1})}},{key:"FetchNextArrivalData",value:function(){var e=Object(w.a)(N.a.mark((function e(t){var r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T.getAPI(),e.next=3,S()({method:"get",baseURL:r.baseNextBusURL,url:"?appID=".concat(r.apiID,"&apiKey=").concat(r.apiKey,"&stopNo=").concat(t,"&format=json")});case 3:return a=e.sent,e.next=6,this.setState({nextArrivalInfo:a.data});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClickEvent",value:function(){var e=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.setState({stop:this.state.search});case 3:this.FetchStopData();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChangeEvent",value:function(e){e.preventDefault(),this.setState({search:e.target.value})}},{key:"handleKeyPressEvent",value:function(){var e=Object(w.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=4;break}return e.next=3,this.setState({stop:this.state.search});case 3:this.FetchStopData();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleValidation",value:function(){var e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===typeof(t=this.state.search)){e.next=5;break}if(t.match("^[0-9]{4}$")){e.next=5;break}return e.next=5,this.setState({errorMessage:!0});case 5:return e.abrupt("return",this.state.errorMessage);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"displayRoutesforStop",value:function(e,t,r,a){if(a)return Object(l.jsx)(F,{});if(!r)return Object(l.jsx)(q,{});var s=t.GetNextTripsForStopResult.Route.RouteDirection;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h4",{className:"text-center p-3 uppercase",children:["Stop Name: ",e.GetRouteSummaryForStopResult.StopDescription]}),this.rendeListOfRoutes(e.GetRouteSummaryForStopResult.Routes,s)]})}},{key:"rendeListOfRoutes",value:function(e,t){var r=this,a=e.Route;return null!=e.Route&&e.Route instanceof Array?Object(l.jsx)("ul",{className:"font-medium text-gray-500 text-center divide-y-2",children:e.Route.map((function(e){return Object(l.jsxs)("li",{className:"hover:text-gray-900 p-5 hover:bg-green-100 cursor-pointer flex flex-col",children:["Route - ",e.RouteNo+" "+e.RouteHeading,r.renderNextBusArrivalInfo(t,e)]},"#"+e.RouteNo+" - "+e.RouteHeading)}))}):Array.isArray(e.Route)||null===e.Route?Object(l.jsx)(L,{}):(console.log("Render"),Object(l.jsx)("ul",{className:"font-medium text-gray-500 text-center divide-y-2",children:Object(l.jsxs)("li",{className:"hover:text-gray-900 p-5 hover:bg-green-100 cursor-pointer",children:["Route - ",a.RouteNo+" "+a.RouteHeading]})}))}},{key:"renderNextBusArrivalInfo",value:function(e,t){var r=this;return Array.isArray(e)||void 0===e.Trips||t.RouteNo+t.RouteHeading!==e.RouteNo+e.RouteLabel?t.RouteNo===e.RouteNo||Array.isArray(e)?e instanceof Array&&void 0!==e?(console.log(e),Object(l.jsx)(l.Fragment,{children:e.map((function(e){return t.RouteNo+t.RouteHeading===e.RouteNo+e.RouteLabel?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"text-green-700 mr-2",children:"Next Arrival in:"}),r.renderNextTripsForArrayOfRoutes(e.Trips)]}):null}))})):void 0:Object(l.jsx)("span",{className:"text-red-400",children:"No data :("}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:"text-green-700 mr-2",children:"Next Arrival in:"}),e.Trips.Trip.map((function(e){return Object(l.jsx)("span",{children:D.timeConvert(e.AdjustedScheduleTime)},Math.random())}))]})}},{key:"renderNextTripsForArrayOfRoutes",value:function(e){var t=e.Trip;return console.log("Trips::",e),Array.isArray(e.Trip)?Array.isArray(e.Trip)?e.Trip.map((function(e,t){return Object(l.jsx)("span",{children:D.timeConvert(e.AdjustedScheduleTime)},t)})):void 0:Object(l.jsx)("span",{children:D.timeConvert(t.AdjustedScheduleTime)},1)}},{key:"render",value:function(){return this.state.isLoading?Object(l.jsx)(E,{}):Object(l.jsx)(I,{displayRoutesforStop:this.displayRoutesforStop(this.state.items,this.state.nextArrivalInfo,this.state.loadRoutes,this.state.errorMessage),children:Object(l.jsx)(A,{keyword:this.state.search,setKeyword:this.handleChangeEvent,setStop:this.handleClickEvent,handleEnterKey:this.handleKeyPressEvent})})}}]),r}(s.a.Component),P=function(){return Object(l.jsx)("div",{className:"container mx-auto border border-green-300 block p-3",children:Object(l.jsx)("h1",{children:"About this project"})})};var K=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"flex flex-col h-screen justify-between",children:[Object(l.jsx)("div",{children:Object(l.jsx)(h,{})}),Object(l.jsxs)(c.c,{children:[Object(l.jsx)(c.a,{path:"/",exact:!0,component:O}),Object(l.jsx)(c.a,{path:"/stopInfo",component:C}),Object(l.jsx)(c.a,{path:"/about",component:P})]}),Object(l.jsx)("div",{className:"mt-10",children:Object(l.jsx)(u,{})})]})})};n.a.render(Object(l.jsx)(o.a,{children:Object(l.jsx)(c.c,{children:Object(l.jsx)(K,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.e8e8c44b.chunk.js.map